<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BCA Syllabus & Programme Guide - IGNOU Hub</title>

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,%3csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cg clip-path='url(%23clip0_105_2)'%3e%3ccircle cx='16' cy='16' r='15.5' fill='white' stroke='%232563EB'/%3e%3ccircle cx='16' cy='16' r='12' fill='%232563EB'/%3e%3cpath d='M10.5 11.5L16 20.5L21.5 11.5' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M11 11H13.5C14.8807 11 16 12.1193 16 13.5V13.5C16 14.8807 14.8807 16 13.5 16H11V11Z' fill='white'/%3e%3cpath d='M21 21H18.5C17.1193 21 16 19.8807 16 18.5V18.5C16 17.1193 17.1193 16 18.5 16H21V21Z' fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath id='clip0_105_2'%3e%3crect width='32' height='32' fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- PDF.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
    <script>
        // Set theme on initial load to prevent flashing
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark')
        } else {
            document.documentElement.classList.remove('dark')
        }
        // Tell Tailwind to use class-based dark mode
        tailwind.config = {
          darkMode: 'class',
        }
      </script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200">

    <!-- Header -->
    <header id="header" class="bg-white/80 dark:bg-gray-900/80 backdrop-blur-md shadow-sm dark:shadow-gray-800 sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <a href="/" class="flex items-center gap-2" aria-label="Delhizones Homepage">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0">
                        <g clip-path="url(#clip0_105_2_header)">
                            <circle cx="16" cy="16" r="15.5" fill="white" stroke="#2563EB"></circle>
                            <circle cx="16" cy="16" r="12" fill="#2563EB"></circle>
                            <path d="M10.5 11.5L16 20.5L21.5 11.5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                            <path d="M11 11H13.5C14.8807 11 16 12.1193 16 13.5V13.5C16 14.8807 14.8807 16 13.5 16H11V11Z" fill="white"></path>
                            <path d="M21 21H18.5C17.1193 21 16 19.8807 16 18.5V18.5C16 17.1193 17.1193 16 18.5 16H21V21Z" fill="white"></path>
                        </g>
                        <defs><clipPath id="clip0_105_2_header"><rect width="32" height="32" fill="white"></rect></clipPath></defs>
                    </svg>
                    <span class="text-2xl font-bold text-gray-900 dark:text-white">Delhi<span class="text-blue-600">zones</span></span>
                </a>
                
                <div class="flex items-center">
                    <nav class="hidden md:flex items-center space-x-6 mr-4">
                         <a href="../../" class="text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition duration-300 font-medium">LMS Home</a>
                        <a href="/posts/" class="text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition duration-300 font-medium">Posts</a>
                        <a href="/contact.html" class="text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition duration-300 font-medium">Contact</a>
                    </nav>

                    <!-- Theme Toggle Button -->
                    <button id="theme-toggle" class="mr-4 text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 focus:outline-none">
                        <i id="theme-toggle-dark-icon" class="w-6 h-6 hidden" data-lucide="moon"></i>
                        <i id="theme-toggle-light-icon" class="w-6 h-6 hidden" data-lucide="sun"></i>
                    </button>

                    <div class="md:hidden">
                        <button id="mobile-menu-button" class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 focus:outline-none">
                            <i id="menu-open-icon" data-lucide="menu" class="w-6 h-6"></i>
                            <i id="menu-close-icon" data-lucide="x" class="w-6 h-6 hidden"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="mobile-menu" class="md:hidden hidden bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700">
             <a href="../../" class="block py-3 px-6 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-blue-600 transition duration-300">LMS Home</a>
             <a href="/posts/" class="block py-3 px-6 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-blue-600 transition duration-300">Posts</a>
             <a href="/contact.html" class="block py-3 px-6 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-blue-600 transition duration-300">Contact</a>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="bg-white dark:bg-gray-900">
            <div class="container mx-auto px-6 py-16 text-center">
                <h1 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white leading-tight">
                    BCA Programme Guide & Syllabus
                </h1>
                <p class="mt-4 text-lg text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">
                    The complete guide and syllabus for the IGNOU Bachelor of Computer Applications programme.
                </p>
            </div>
        </section>

        <!-- Viewer Section -->
        <section id="syllabus-viewer" class="py-12">
            <div class="container mx-auto px-6">
                <div class="lg:flex lg:gap-8">
                    <!-- Table of Contents -->
                    <aside class="lg:w-1/3 w-full mb-8 lg:mb-0">
                        <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md sticky top-24">
                            <h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">Table of Contents</h2>
                            <div id="toc-container" class="max-h-[60vh] overflow-y-auto">
                                <p class="text-gray-500 dark:text-gray-400">Loading contents...</p>
                            </div>
                        </div>
                    </aside>

                    <!-- PDF Viewer -->
                    <div class="lg:w-2/3 w-full">
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md">
                            <div class="flex flex-wrap justify-between items-center p-4 border-b dark:border-gray-700">
                                <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 truncate pr-4">Document Viewer</h3>
                                <div class="flex items-center gap-2 mt-2 sm:mt-0">
                                    <div id="tts-controls" class="hidden items-center gap-1 border-r pr-2 mr-1 dark:border-gray-600">
                                        <button id="read-aloud-btn" title="Read Aloud" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors">
                                            <i data-lucide="play-circle" class="w-5 h-5"></i>
                                        </button>
                                        <button id="pause-resume-btn" title="Pause/Resume" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors hidden">
                                            <i data-lucide="pause-circle" class="w-5 h-5"></i>
                                        </button>
                                        <button id="stop-btn" title="Stop" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors hidden">
                                            <i data-lucide="stop-circle" class="w-5 h-5"></i>
                                        </button>
                                        <div class="flex items-center gap-1 text-sm ml-2">
                                            <span>Page:</span>
                                            <input type="number" id="tts-page-input" class="w-14 text-center bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600" min="1" value="1">
                                        </div>
                                    </div>
                                     <button id="translate-btn" title="Translate to Hindi" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors hidden">
                                        <i data-lucide="languages" class="w-5 h-5"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="relative h-[85vh]">
                                <iframe id="pdf-viewer" src="bcaprogguide.pdf" width="100%" height="100%"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="bg-gray-900 dark:bg-black text-white mt-16">
        <div class="container mx-auto px-6 py-12">
            <div class="text-center">
                 <h2 class="text-3xl font-bold text-white">Get In Touch</h2>
                 <p class="mt-3 text-gray-400">Feel free to reach out via email.</p>
                 <a href="mailto:delhizones@gmail.com" class="mt-6 inline-block text-lg font-semibold text-blue-400 hover:text-blue-300 transition-colors">delhizones@gmail.com</a>
            </div>
             <div class="mt-10 flex justify-center gap-x-8 gap-y-4 flex-wrap">
                <a href="/about.html" class="text-gray-400 hover:text-white transition-colors">About Us</a>
                <a href="/privacy.html" class="text-gray-400 hover:text-white transition-colors">Privacy Policy</a>
                <a href="/terms.html" class="text-gray-400 hover:text-white transition-colors">Terms of Service</a>
                <a href="/contact.html" class="text-gray-400 hover:text-white transition-colors">Contact</a>
            </div>
            <div class="text-center text-gray-500 border-t border-gray-800 mt-10 pt-6">
                <p>&copy; 2024 Delhizones.com. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        let pdfPageTexts = [];
        let indianVoice = null;

        function loadAndSetVoices() {
            const voices = speechSynthesis.getVoices();
            indianVoice = voices.find(voice => voice.lang === 'en-IN');
            if (!indianVoice) {
                indianVoice = voices.find(voice => voice.lang.startsWith('en-'));
            }
        }

        // Initialize
        function initializeApp() {
            if (typeof lucide === 'undefined') {
                setTimeout(initializeApp, 100);
                return;
            }

            // --- Theme Switcher Logic ---
            const themeToggleBtn = document.getElementById('theme-toggle');
            const darkIcon = document.getElementById('theme-toggle-dark-icon');
            const lightIcon = document.getElementById('theme-toggle-light-icon');

            const applyTheme = () => {
                const isDarkMode = document.documentElement.classList.contains('dark');
                if (isDarkMode) { lightIcon.classList.remove('hidden'); darkIcon.classList.add('hidden'); } 
                else { darkIcon.classList.remove('hidden'); lightIcon.classList.add('hidden'); }
            };
            
            themeToggleBtn.addEventListener('click', () => {
                document.documentElement.classList.toggle('dark');
                localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
                applyTheme();
            });
            applyTheme();

            // --- Mobile Menu Logic ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const openIcon = document.getElementById('menu-open-icon');
            const closeIcon = document.getElementById('menu-close-icon');

            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
                openIcon.classList.toggle('hidden');
                closeIcon.classList.toggle('hidden');
            });
            
            // --- Syllabus Page Logic ---
            const pdfUrl = 'bcaprogguide.pdf';
            const viewer = document.getElementById('pdf-viewer');
            const tocContainer = document.getElementById('toc-container');
            const ttsControls = document.getElementById('tts-controls');
            const translateBtn = document.getElementById('translate-btn');
            
            pdfjsLib.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js`;

            async function buildTocAndExtractText() {
                try {
                    const absoluteUrl = new URL(pdfUrl, window.location.href).href;
                    const pdf = await pdfjsLib.getDocument(absoluteUrl).promise;
                    const outline = await pdf.getOutline();

                    // Build ToC
                    if (!outline) {
                        tocContainer.innerHTML = '<p class="text-gray-500 dark:text-gray-400">No table of contents found.</p>';
                    } else {
                        const tocList = document.createElement('ul');
                        tocList.className = 'space-y-2 text-sm';
                        
                        const buildList = async (items, parentElement, level) => {
                            for (const item of items) {
                                const li = document.createElement('li');
                                const a = document.createElement('a');
                                a.textContent = item.title;
                                a.href = '#'; 
                                a.className = `block text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 pl-${level * 3}`;
                                
                                try {
                                    const dest = await pdf.getDestination(item.dest);
                                    if(dest) {
                                        const pageIndex = await pdf.getPageIndex(dest[0]);
                                        const pageNum = pageIndex + 1;
                                        a.onclick = (e) => { e.preventDefault(); viewer.src = `${pdfUrl}#page=${pageNum}`; };
                                    }
                                } catch(e) { console.warn("Could not get destination for ToC item", item.title); }

                                li.appendChild(a);

                                if (item.items && item.items.length > 0) {
                                    const sublist = document.createElement('ul');
                                    sublist.className = 'mt-2 space-y-2';
                                    await buildList(item.items, sublist, level + 1);
                                    li.appendChild(sublist);
                                }
                                parentElement.appendChild(li);
                            }
                        };
                        await buildList(outline, tocList, 0);
                        tocContainer.innerHTML = '';
                        tocContainer.appendChild(tocList);
                    }

                    // Extract Text for TTS
                    let pagesText = [];
                    for (let i = 1; i <= pdf.numPages; i++) {
                        const page = await pdf.getPage(i);
                        const content = await page.getTextContent();
                        pagesText.push(content.items.map(item => item.str).join(' '));
                    }
                    pdfPageTexts = pagesText;

                    // Enable features
                    if ('speechSynthesis' in window && pdfPageTexts.length > 0) {
                        ttsControls.classList.remove('hidden');
                        ttsControls.style.display = 'flex';
                        resetTtsButtons();
                    }
                    const isLocal = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
                    if(!isLocal) {
                        translateBtn.classList.remove('hidden');
                        translateBtn.dataset.pdfUrl = absoluteUrl;
                    }

                } catch (error) {
                    console.error("Error loading PDF for ToC/TTS:", error);
                    tocContainer.innerHTML = '<p class="text-red-500">Error loading document contents.</p>';
                }
            }

            buildTocAndExtractText();

            // --- TTS Controls ---
            const readBtn = document.getElementById('read-aloud-btn');
            const pauseResumeBtn = document.getElementById('pause-resume-btn');
            const stopBtn = document.getElementById('stop-btn');

            function resetTtsButtons() {
                readBtn.classList.remove('hidden');
                pauseResumeBtn.classList.add('hidden');
                stopBtn.classList.add('hidden');
                pauseResumeBtn.innerHTML = '<i data-lucide="pause-circle" class="w-5 h-5"></i>';
                lucide.createIcons();
            }

            readBtn.addEventListener('click', () => {
                if (speechSynthesis.speaking || !pdfPageTexts || pdfPageTexts.length === 0) return;
                speechSynthesis.cancel();
                
                const pageInput = document.getElementById('tts-page-input');
                let startPage = parseInt(pageInput.value, 10);

                if (isNaN(startPage) || startPage < 1) startPage = 1;
                if (startPage > pdfPageTexts.length) startPage = pdfPageTexts.length;
                pageInput.value = startPage;

                for (let i = startPage - 1; i < pdfPageTexts.length; i++) {
                    const utterance = new SpeechSynthesisUtterance(pdfPageTexts[i]);
                    if (indianVoice) utterance.voice = indianVoice;
                    const currentPage = i + 1;
                    utterance.onstart = () => { pageInput.value = currentPage; };
                    if (currentPage === pdfPageTexts.length) utterance.onend = resetTtsButtons;
                    speechSynthesis.speak(utterance);
                }
                
                readBtn.classList.add('hidden');
                pauseResumeBtn.classList.remove('hidden');
                stopBtn.classList.remove('hidden');
            });

            pauseResumeBtn.addEventListener('click', () => {
                if (speechSynthesis.paused) {
                    speechSynthesis.resume();
                    pauseResumeBtn.innerHTML = '<i data-lucide="pause-circle" class="w-5 h-5"></i>';
                } else {
                    speechSynthesis.pause();
                    pauseResumeBtn.innerHTML = '<i data-lucide="play-circle" class="w-5 h-5"></i>';
                }
                lucide.createIcons();
            });

            stopBtn.addEventListener('click', () => {
                speechSynthesis.cancel();
                resetTtsButtons();
            });

            translateBtn.addEventListener('click', () => {
                const url = translateBtn.dataset.pdfUrl;
                if (url) {
                    const translateUrl = `https://translate.google.com/translate?sl=en&tl=hi&u=${encodeURIComponent(url)}`;
                    window.open(translateUrl, '_blank');
                }
            });

            lucide.createIcons();
        }
        
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>

</body>
</html>

